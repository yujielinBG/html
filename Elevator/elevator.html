<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>elevator</title>
  <style>
    canvas { border: 1px solid #000; }
  </style>
    <!--<script src="./GameControl.js"></script>-->
    <script src="./KeyController.js"></script>
    <script src="./JessicaElevator.js"></script>
    <script src="./Test1.js"></script>
</head>
<body>
    <canvas id="_Canvas" width="400" height="600"></canvas>
<script>
const canvas = document.getElementById('_Canvas');
const ctx = canvas.getContext('2d');  
let lastTime = 0 ;

const CONDITION_ANY = 0 ;
const CONDITION_UP = 1 ;
const CONDITION_DOWN = 2 ;  
const TOTAL_FLOORS = 10 ;
let test = new Test1() ;  

//------------------------------------------------------------

function gameLoop(time) {
    // if ( gameControl.state != GameControl.STATE_RUNNING  ) {
    //     requestAnimationFrame(gameLoop);
    //     return ;
    // }

    if (lastTime === 0) {
        lastTime = time;
    }

    // 計算自上次更新以來經過的時間
    const deltaTime = time - lastTime
    if ( deltaTime <= 40 ) {
        requestAnimationFrame(gameLoop);
        return ;
    }
    lastTime = time ;

    test.next() ;
 
    requestAnimationFrame(gameLoop);
}

function gameStart() {
    test.start();
    gameLoop();
}
// gameControl.addEventListener("start", gameStart ) ;
gameStart();

</script>